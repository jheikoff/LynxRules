digraph G {
  node10540228004483401169 [shape=invhouse, label="rule_1"];
  node4559774413753510949 [label="join (all)\n"];
  node4559774413753510949 -> node10540228004483401169
  node3549109675395058459 [label="join"];
  node3549109675395058459 -> node4559774413753510949
  node5882545686749211790 [shape=box, label="ring(_, right)\n"];
  node5882545686749211790 -> node4559774413753510949
  node15150255206926000989 [shape=invhouse, label="rule_2"];
  node11912873757326213347 [label="join (no)\n:(_size₁ > _size)"];
  node11912873757326213347 -> node15150255206926000989
  node17288158651522522516 [label="join\n"];
  node17288158651522522516 -> node11912873757326213347
  node15927726640358414428 [label="join (no)\n"];
  node15927726640358414428 -> node17288158651522522516
  node3549109675395058459 [label="join"];
  node3549109675395058459 -> node15927726640358414428
  node6758391947976045571 [shape=box, label="move(__)\n"];
  node6758391947976045571 -> node15927726640358414428
  node17982429595578129959 [shape=box, label="ring(_size, _peg)\n:(_peg !== :right)"];
  node17982429595578129959 -> node17288158651522522516
  node6876904948933207198 [shape=box, label="ring(_size₁, _peg₁)\n:(_peg₁ !== :right)"];
  node6876904948933207198 -> node11912873757326213347
  node9919441631691819676 [shape=invhouse, label="rule_3"];
  node16546904823631097547 [label="join (no)\n:(_size₂ < _size)"];
  node16546904823631097547 -> node9919441631691819676
  node13199349152769639611 [label="join (no)\n:(_size₁ < _size)"];
  node13199349152769639611 -> node16546904823631097547
  node3333610863938168134 [label="join\n"];
  node3333610863938168134 -> node13199349152769639611
  node6458109579584481593 [label="join\n"];
  node6458109579584481593 -> node3333610863938168134
  node3549109675395058459 [label="join"];
  node3549109675395058459 -> node6458109579584481593
  node842992484556055778 [shape=box, label="_move = move(_size, _from, _to)\n"];
  node842992484556055778 -> node6458109579584481593
  node5383465671293539653 [shape=box, label="_ring = ring(_size, _from)\n"];
  node5383465671293539653 -> node3333610863938168134
  node14086732060696428547 [shape=box, label="ring(_size₁, _from)\n"];
  node14086732060696428547 -> node13199349152769639611
  node8230789940034305201 [shape=box, label="ring(_size₂, _to)\n"];
  node8230789940034305201 -> node16546904823631097547
  node14309568143768945326 [shape=invhouse, label="rule_4"];
  node15336462276993972092 [label="join (no)\n:(_size₁ < _size₂ < _size)\n:(_peg₂ !== _other)"];
  node15336462276993972092 -> node14309568143768945326
  node17179700771965415081 [label="join\n:(_size₁ < _size)\n:(_peg₁ !== _other)"];
  node17179700771965415081 -> node15336462276993972092
  node794999186200622845 [label="join\n:(_other !== _from && _other !== _to)"];
  node794999186200622845 -> node17179700771965415081
  node2716072463494168698 [label="join\n"];
  node2716072463494168698 -> node794999186200622845
  node3549109675395058459 [label="join"];
  node3549109675395058459 -> node2716072463494168698
  node842992484556055778 [shape=box, label="_move = move(_size, _from, _to)\n"];
  node842992484556055778 -> node2716072463494168698
  node6191872158446810974 [shape=box, label="peg(_other)\n"];
  node6191872158446810974 -> node794999186200622845
  node6171425404418113701 [shape=box, label="ring(_size₁, _peg₁)\n"];
  node6171425404418113701 -> node17179700771965415081
  node8200041828833227719 [shape=box, label="ring(_size₂, _peg₂)\n"];
  node8200041828833227719 -> node15336462276993972092
}
